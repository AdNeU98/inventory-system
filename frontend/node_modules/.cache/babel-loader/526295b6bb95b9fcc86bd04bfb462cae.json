{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nconst serialize = JSON.stringify,\n  deserialize = JSON.parse;\n\n// const expiryTime =  3 * 60 * 1000;\n\nexport function useLocalStorageState(key, initialState = {}) {\n  _s();\n  const [state, setstate] = React.useState(() => {\n    // JSON.parse(window.localStorage.getItem(key)) || initialState)\n    const valueInLocalStorage = window.localStorage.getItem(key);\n    if (valueInLocalStorage) {\n      return deserialize(valueInLocalStorage);\n    }\n    // in case it is an expensive function\n    return typeof initialState === 'function' ? initialState() : initialState;\n  });\n  const prevKeyRef = useRef(key);\n  React.useEffect(() => {\n    const prevKey = prevKeyRef.current;\n    let shouldSetLocalData = true;\n    if (prevKey !== key) {\n      window.localStorage.removeItem(prevKey);\n    } else {\n      /*if(state && state.setupTime){\n        if(state.setupTime <= new Date().getTime()){\n        // if((new Date().getTime()  )){\n          shouldSetLocalData = false;\n          window.localStorage.removeItem(key);\n        }\n      }*/\n    }\n    prevKeyRef.current = key;\n    if (shouldSetLocalData) {\n      window.localStorage.setItem(key, serialize(state));\n    }\n  }, [key, state]);\n  return [state, setstate];\n}\n_s(useLocalStorageState, \"XEfigZEpIB3EJgXPr+GpFHw1L2s=\");\nexport function getLocalStorageKey(key) {\n  let val = window.localStorage.getItem(key);\n  if (val) {\n    val = JSON.parse(val);\n  }\n  return val;\n}","map":{"version":3,"names":["React","useRef","serialize","JSON","stringify","deserialize","parse","useLocalStorageState","key","initialState","_s","state","setstate","useState","valueInLocalStorage","window","localStorage","getItem","prevKeyRef","useEffect","prevKey","current","shouldSetLocalData","removeItem","setItem","getLocalStorageKey","val"],"sources":["/Users/anirbandutta/Downloads/DP-Project/InventoryManagementSystem/frontend/src/hooks/useLocalStorage.js"],"sourcesContent":["import React, {\n    useRef\n} from 'react';\n\nconst serialize = JSON.stringify,\n    deserialize = JSON.parse;\n\n// const expiryTime =  3 * 60 * 1000;\n\nexport function useLocalStorageState(key, initialState = {}) {\n    const [state,\n        setstate\n    ] = React.useState(() => {\n        // JSON.parse(window.localStorage.getItem(key)) || initialState)\n        const valueInLocalStorage = window\n            .localStorage\n            .getItem(key);\n        if (valueInLocalStorage) {\n            return deserialize(valueInLocalStorage);\n        }\n        // in case it is an expensive function\n        return typeof initialState === 'function' ? initialState() : initialState;\n    });\n\n    const prevKeyRef = useRef(key);\n\n    React.useEffect(() => {\n        const prevKey = prevKeyRef.current;\n\n        let shouldSetLocalData = true;\n\n        if (prevKey !== key) {\n            window.localStorage.removeItem(prevKey);\n        } else {\n            /*if(state && state.setupTime){\n              if(state.setupTime <= new Date().getTime()){\n              // if((new Date().getTime()  )){\n                shouldSetLocalData = false;\n                window.localStorage.removeItem(key);\n              }\n            }*/\n        }\n\n        prevKeyRef.current = key;\n        if (shouldSetLocalData) {\n            window.localStorage.setItem(key, serialize(state));\n        }\n    }, [key, state]);\n\n    return [state, setstate];\n}\n\nexport function getLocalStorageKey(key) {\n    let val = window.localStorage.getItem(key);\n    if (val) {\n        val = JSON.parse(val);\n    }\n    return val;\n}"],"mappings":";AAAA,OAAOA,KAAK,IACRC,MAAM,QACH,OAAO;AAEd,MAAMC,SAAS,GAAGC,IAAI,CAACC,SAAS;EAC5BC,WAAW,GAAGF,IAAI,CAACG,KAAK;;AAE5B;;AAEA,OAAO,SAASC,oBAAoBA,CAACC,GAAG,EAAEC,YAAY,GAAG,CAAC,CAAC,EAAE;EAAAC,EAAA;EACzD,MAAM,CAACC,KAAK,EACRC,QAAQ,CACX,GAAGZ,KAAK,CAACa,QAAQ,CAAC,MAAM;IACrB;IACA,MAAMC,mBAAmB,GAAGC,MAAM,CAC7BC,YAAY,CACZC,OAAO,CAACT,GAAG,CAAC;IACjB,IAAIM,mBAAmB,EAAE;MACrB,OAAOT,WAAW,CAACS,mBAAmB,CAAC;IAC3C;IACA;IACA,OAAO,OAAOL,YAAY,KAAK,UAAU,GAAGA,YAAY,CAAC,CAAC,GAAGA,YAAY;EAC7E,CAAC,CAAC;EAEF,MAAMS,UAAU,GAAGjB,MAAM,CAACO,GAAG,CAAC;EAE9BR,KAAK,CAACmB,SAAS,CAAC,MAAM;IAClB,MAAMC,OAAO,GAAGF,UAAU,CAACG,OAAO;IAElC,IAAIC,kBAAkB,GAAG,IAAI;IAE7B,IAAIF,OAAO,KAAKZ,GAAG,EAAE;MACjBO,MAAM,CAACC,YAAY,CAACO,UAAU,CAACH,OAAO,CAAC;IAC3C,CAAC,MAAM;MACH;AACZ;AACA;AACA;AACA;AACA;AACA;IANY;IASJF,UAAU,CAACG,OAAO,GAAGb,GAAG;IACxB,IAAIc,kBAAkB,EAAE;MACpBP,MAAM,CAACC,YAAY,CAACQ,OAAO,CAAChB,GAAG,EAAEN,SAAS,CAACS,KAAK,CAAC,CAAC;IACtD;EACJ,CAAC,EAAE,CAACH,GAAG,EAAEG,KAAK,CAAC,CAAC;EAEhB,OAAO,CAACA,KAAK,EAAEC,QAAQ,CAAC;AAC5B;AAACF,EAAA,CAzCeH,oBAAoB;AA2CpC,OAAO,SAASkB,kBAAkBA,CAACjB,GAAG,EAAE;EACpC,IAAIkB,GAAG,GAAGX,MAAM,CAACC,YAAY,CAACC,OAAO,CAACT,GAAG,CAAC;EAC1C,IAAIkB,GAAG,EAAE;IACLA,GAAG,GAAGvB,IAAI,CAACG,KAAK,CAACoB,GAAG,CAAC;EACzB;EACA,OAAOA,GAAG;AACd"},"metadata":{},"sourceType":"module"}